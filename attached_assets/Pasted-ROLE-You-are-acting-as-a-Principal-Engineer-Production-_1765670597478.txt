ROLE
You are acting as a Principal Engineer + Production Auditor.
This is the final pass before real production.
Your job is to verify, fix, and prove ‚Äî not to explain or suggest.

‚∏ª

üéØ GOAL (NO NEGOTIATION)

SafeGo must be production-grade, country-aware, secure, and stable.

If anything is:
	‚Ä¢	broken
	‚Ä¢	half-implemented
	‚Ä¢	assumed
	‚Ä¢	mocked
	‚Ä¢	silently failing

‚Üí FIX IT COMPLETELY.

No TODOs. No ‚Äúshould work‚Äù. No partial fixes.

‚∏ª

1Ô∏è‚É£ SECURITY & SECRETS (ABSOLUTE RULE)

REQUIRED IN PRODUCTION (APP MUST NOT START WITHOUT THESE):
	‚Ä¢	JWT_SECRET (‚â• 32 chars)
	‚Ä¢	ENCRYPTION_KEY (64 hex chars)
	‚Ä¢	SESSION_SECRET (‚â• 32 chars)
	‚Ä¢	DATABASE_URL (PostgreSQL)
	‚Ä¢	GOOGLE_MAPS_API_KEY
	‚Ä¢	Payment keys (BD + USA if enabled)
	‚Ä¢	OTP / SMS keys (Twilio or equivalent)
	‚Ä¢	Push notification keys (FCM)

ENFORCEMENT RULES:
	‚Ä¢	‚ùå No hardcoded secrets anywhere
	‚Ä¢	‚ùå No fallback keys in production
	‚Ä¢	‚ùå No silent startup

If any required secret is missing:
	‚Ä¢	App must EXIT WITH CODE 1
	‚Ä¢	Log must clearly show:
FATAL ‚Äì PRODUCTION STARTUP ABORTED

Development mode may warn only.

üëâ Show proof from logs.

‚∏ª

2Ô∏è‚É£ DATABASE & MEMORY (CRITICAL)
	‚Ä¢	Verify single shared DB connection
	‚Ä¢	Remove duplicate pools / repeated initializations
	‚Ä¢	Confirm memory usage does not increase over time
	‚Ä¢	Fix any leak or repeated connection logic

üëâ Output:
	‚Ä¢	Exact files changed
	‚Ä¢	What caused the issue
	‚Ä¢	Why it cannot happen again

‚∏ª

3Ô∏è‚É£ GOOGLE MAPS (ZERO TOLERANCE)

You must ensure:
	‚Ä¢	Singleton Google Maps loader
	‚Ä¢	No duplicate script tags
	‚Ä¢	Proper cleanup on unmount
	‚Ä¢	ResizeObserver correctly triggers map resize
	‚Ä¢	Retry logic if SDK fails
	‚Ä¢	Fallback UI if map fails
	‚Ä¢	Works on:
	‚Ä¢	Desktop
	‚Ä¢	Mobile
	‚Ä¢	Resize
	‚Ä¢	Route change

üëâ Show browser console proof.

‚∏ª

4Ô∏è‚É£ CUSTOMER FLOWS (END-TO-END)

üöó Ride
	‚Ä¢	Pickup works
	‚Ä¢	Dropoff works
	‚Ä¢	Country-based vehicle list
	‚Ä¢	Price appears only after both locations
	‚Ä¢	No blank states

üçî Eats
	‚Ä¢	Restaurants load correctly
	‚Ä¢	No empty screen unless database is truly empty
	‚Ä¢	Filters work
	‚Ä¢	Search works
	‚Ä¢	Demo data exists if marketplace is empty

üì¶ Parcel
	‚Ä¢	Google Places input stable
	‚Ä¢	No TypeScript prop mismatch
	‚Ä¢	Location selection works end-to-end

‚∏ª

5Ô∏è‚É£ COUNTRY RULES (MANDATORY)
	‚Ä¢	USA & Bangladesh logic must be strictly config-driven
	‚Ä¢	Vehicles, payments, rules load dynamically
	‚Ä¢	‚ùå No hardcoded country assumptions

‚∏ª

6Ô∏è‚É£ UI / UX SAFETY
	‚Ä¢	No blank screens
	‚Ä¢	Friendly error UI
	‚Ä¢	Retry buttons where APIs or SDKs may fail
	‚Ä¢	No infinite loaders

‚∏ª

7Ô∏è‚É£ FINAL OUTPUT FORMAT (MANDATORY)

Your final response MUST include:

‚úÖ AUDIT SUMMARY
	‚Ä¢	What was broken
	‚Ä¢	What was fixed
	‚Ä¢	What was verified

üìÅ FILES CHANGED

List exact files

üß™ PROOF
	‚Ä¢	Logs
	‚Ä¢	Browser console output
	‚Ä¢	Clear confirmation messages

‚ö†Ô∏è KNOWN ISSUES

Only if NOT blocking production

üöÄ PRODUCTION STATUS

Choose ONE:
	‚Ä¢	READY FOR PRODUCTION
	‚Ä¢	BLOCKED ‚Äì DO NOT DEPLOY

No soft language. No assumptions.

‚∏ª

‚ùó STRICT RULES
	‚Ä¢	Do NOT ask questions
	‚Ä¢	Do NOT leave TODOs
	‚Ä¢	Do NOT say ‚Äúshould be fine‚Äù
	‚Ä¢	Do NOT skip anything

If something is unclear ‚Üí INVESTIGATE
If something is missing ‚Üí FIX IT

This is the final audit before launch.
