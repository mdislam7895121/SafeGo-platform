Build the entire Phase A of SafeGo Ride System.

Follow every SafeGo Master Rule:
1. Four roles must be active: Customer, Driver, Restaurant, Admin.
2. All collections must be used: rides, food_orders, deliveries.
3. Global ride logic must match Uber structure.
4. All onboarding + KYC rules must remain untouched.
5. All security phases must be applied.

PHASE A OBJECTIVE:
Implement all Ride-After-Booking features into the SafeGo customer and driver workflow without breaking any existing code.

DELIVERABLES:
Develop these features completely:

1. Trip Status Card (Customer)
   - Show driver picture, name, rating, car make/model/color, car plate.
   - Live ETA countdown (auto-updates).
   - Pickup address typed by user and resolved coordinates.
   - Trip status must always match the ride document.

2. Real-Time Driver Tracking
   - Use driver GPS location from driver app.
   - Customer sees actual live movement on map.
   - Polyline route must come from Google Directions with traffic.

3. Driver App — Go Online / Go Offline
   - Driver toggles availability.
   - When online → driver sends live location.
   - When offline → driver stops broadcasting location.

4. Customer → Contact Driver
   - In-app chat (quick messages).
   - In-app call (VoIP button placeholder).

5. Customer → Cancel Ride
   - Select a reason.
   - If ride already accepted → show cancel fee rule.
   - Cancel updates ride status and informs driver.

6. Change Destination + Add Stop
   - Customer can update dropoff.
   - Recalculate fare + ETA.
   - Update map + route + traffic.

7. Multi-Route Selection (3 options)
   - Fastest route.
   - Shortest route.
   - Highway preferred route.
   - Customer can choose before pickup.
   - Driver must follow updated route.

8. Driver Side Features
   - Accept / Reject ride.
   - Navigate button (auto opens Google Maps).
   - Arrived button.
   - Start trip button.
   - End trip button.
   - Upload car photo if missing.

9. Customer Rating Page (after trip)
   - 1–5 stars.
   - Quick feedback tags.
   - Submit stores rating in driver profile.

10. Fare Receipt Page
   - Show: base fare, distance fare, time fare, traffic surge, tolls, total fare.
   - Store receipt in customer history + admin panel.

SECURITY RULES:
Apply SafeGo Security Phases 1–3:
- Validate all ride document states.
- No insecure location writes.
- Prevent route tampering.
- Apply input sanitation.
- Prevent duplicate ride documents.
- Ensure driver cannot modify fare.

Do not break existing Customer, Driver, or Admin onboarding.

END GOAL:
After this build, SafeGo must fully support:
- Live tracking
- Live ETA
- Trip lifecycle
- Driver communication
- Route selection
- Cancellation
- Rating + receipt
- Admin monitoring

Make all changes clean, stable, and non-breaking.