Objective

SafePilot-ржХрзЗ ржкрзНрж░ржлрзЗрж╢ржирж╛рж▓, ржкрзНрж░рж╢рзНржиржнрж┐рждрзНрждрж┐ржХ (question-specific), non-repetitive ржмрж╛ржирж╛рждрзЗ рж╣ржмрзЗред
ржПржХржЗ ржкрзНрж░рж╢рзНржирзЗ ржпрзЗржи ржПржХржЗ generic рж░рж┐ржкрзЛрж░рзНржЯ ржирж╛ ржЖрж╕рзЗред
Admin SafePilot ржПржмржВ Customer Support SafePilot ржкрзБрж░рзЛржкрзБрж░рж┐ ржЖрж▓рж╛ржжрж╛ ржерж╛ржХрждрзЗ рж╣ржмрзЗред

ЁЯФТ 1. Role Separation (MANDATORY)
A. Admin SafePilot

рж╢рзБржзрзБ Admin panel ржерзЗржХрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ

Access scope:

Drivers

KYC approvals

Fraud & risk

Payouts

Platform metrics

Security & audit logs

Customer support data ржПржХржжржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ ржирж╛

B. Customer Support SafePilot

рж╢рзБржзрзБ customer tickets, complaints, refunds, chat history

Admin analytics / fraud / payout ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржжрзЗржмрзЗ ржирж╛

ЁЯСЙ ржХрзЛржбрзЗ mode = "admin" | "support" рж╕рзНржкрж╖рзНржЯржнрж╛ржмрзЗ enforce ржХрж░рждрзЗ рж╣ржмрзЗ
ЁЯСЙ Wrong mode тЖТ hard reject + clear message

ЁЯза 2. Intent-Based Response Engine (CORE FIX)

ржмрж░рзНрждржорж╛ржи рж╕ржорж╕рзНржпрж╛:
рж╕ржм ржкрзНрж░рж╢рзНржирзЗ ржПржХржЗ ржзрж░ржирзЗрж░ output (morning report, guard mode, security summary)

Fix ржХрж░рждрзЗ рж╣ржмрзЗ:

ржкрзНрж░ржержорзЗ ржкрзНрж░рж╢рзНржи ржерзЗржХрзЗ intent detect ржХрж░рждрзЗ рж╣ржмрзЗ, рждрж╛рж░ржкрж░ рж╕рзЗржЗ intent ржЕржирзБржпрж╛рзЯрзА ржЖрж▓рж╛ржжрж╛ handler call рж╣ржмрзЗред

Required intents (minimum):

driver_count

driver_pending_kyc

driver_improvement_advice

fraud_status

payout_anomaly

customer_tickets

security_events

platform_health

generic_help

ЁЯСЙ ржПржХржЯрж┐ intent = ржПржХржЯрж┐ response structure
ЁЯСЙ ржХрзЛржирзЛ global formatter ржжрж┐рзЯрзЗ рж╕ржм response ржмрж╛ржирж╛ржирзЛ ржпрж╛ржмрзЗ ржирж╛

ЁЯЫС 3. STOP Global Formatting Bug
Current Bug

formatVision2030Response() ржмрж╛ equivalent function:

рж╕ржм response-ржП ржПржХржЗ header ржврзБржХрж╛ржЪрзНржЫрзЗ

[GUARD MODE], Security Status, Morning Report рж╕ржмржЦрж╛ржирзЗ ржжрзЗржЦрж╛ржЪрзНржЫрзЗ

Fix (MANDATORY):

ржПржЗ function delete ржмрж╛ split ржХрж░рждрзЗ рж╣ржмрзЗ

Per-intent formatter ржмрж╛ржирж╛рждрзЗ рж╣ржмрзЗ, ржпрзЗржоржи:

formatDriverStats()

formatFraudSummary()

formatPayoutAnomalies()

ржПржХ formatter ржжрж┐рзЯрзЗ рж╕ржм response ржмрж╛ржирж╛ржирзЛ ржкрзБрж░рзЛржкрзБрж░рж┐ ржирж┐рж╖рж┐ржжрзНржз

ЁЯз╛ 4. Question тЖТ Exact Answer Rule
Example Rules:

Question: how many drivers are pending

тЭМ Full driver report

тЭМ Morning report

тЬЕ Direct answer:

тАЬ2 drivers are currently pending verification.тАЭ

Question: how do I improve drivers

тЭМ Driver stats table

тЭМ Counts

тЬЕ Actionable advice only

ЁЯСЙ Question ржпржжрж┐ WHY / HOW рж╣рзЯ тЖТ advice
ЁЯСЙ Question ржпржжрж┐ HOW MANY / STATUS рж╣рзЯ тЖТ numbers only

ЁЯОи 5. Professional UI Output Rules
Response style:

No emojis

No marketing tone

No repeated sections

Short headings only if needed

Prefer bullet points over paragraphs

One screen = one purpose

Remove permanently:

тАЬMorning reportтАЭ

тАЬGuard modeтАЭ

тАЬSecurity statusтАЭ unless explicitly asked

тЪЩя╕П 6. SafePilot Settings Button тАУ What It Controls

Settings panel-ржП ржирж┐ржЪрзЗрж░ option ржЧрзБрж▓рзЛ ржерж╛ржХрждрзЗ рж╣ржмрзЗ (Admin only):

A. Response Behavior

Toggle: Concise mode (short answers)

Toggle: Detailed mode

Toggle: Auto-suggest follow-ups

B. Scope Control

Checkbox:

Drivers

KYC

Fraud

Payouts

Security

Disabled scope тЖТ SafePilot рж╕рзЗржЗ ржмрж┐рж╖рзЯрзЗ ржЙрждрзНрждрж░ ржжрзЗржмрзЗ ржирж╛

C. Data Window

Last 24h

Last 7 days

Custom range

D. Safety & Control

Disable sensitive fields

Mask PII

Read-only mode

ЁЯзк 7. Mandatory Testing Checklist

Agent MUST test these exact questions:

how many drivers are pending

how do i improve drivers

show payout anomalies

any fraud alerts today

how many support tickets today

Expected result:

рж╕ржм ржкрзНрж░рж╢рзНржирзЗ ржнрж┐ржирзНржи output

ржХрзЛржирзЛ duplicate layout ржирж╛

ржХрзЛржирзЛ unrelated section ржирж╛

тЫФ 8. Hard Rules (Do Not Break)

тЭМ One formatter for all responses

тЭМ Admin model answering support questions

тЭМ Support model answering admin analytics

тЭМ Same response layout for different questions

тЬЕ Final Deliverable

Agent ржХрж╛ржЬ рж╢рзЗрж╖ ржХрж░рж▓рзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░ржмрзЗ:

SafePilot behaves like a real enterprise admin assistant

Same question тЙа same generic report

UI looks clean, calm, executive-ready